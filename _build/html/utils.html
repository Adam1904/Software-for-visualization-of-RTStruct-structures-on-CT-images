<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>utils &#8212; Rt Struct Ct  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="app" href="app.html" />
    <link rel="prev" title="Welcome to Rt Struct Ct’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-utils">
<span id="utils"></span><h1>utils<a class="headerlink" href="#module-utils" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="utils.add_rt_struct_to_image">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">add_rt_struct_to_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtstructures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rt_struct_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mat</span></span></span><a class="headerlink" href="#utils.add_rt_struct_to_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Add rt struct structures to the image with given color</p>
<dl class="simple">
<dt>Args:</dt><dd><p>image (cv2.Mat): raw ct image slice
rtstructures (list): rt struct structures as list of (X,Y) points
rt_struct_color (tuple): given color of rt struct structures</p>
</dd>
<dt>Returns:</dt><dd><p>cv2.Mat: converted ct image with rt struct structures</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.check_if_file_is_rt_struct_file">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">check_if_file_is_rt_struct_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rtstructpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#utils.check_if_file_is_rt_struct_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which checks if given file is rt struct structure file</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rtstructpath (str): rt struct file given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>bool: flag which indicates whether file is an rt struct file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.contrast_enhancement">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">contrast_enhancement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_center</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#utils.contrast_enhancement" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that changes window center and window width of currently displayed image.</p>
<p>Windowing, also known as grey-level mapping, contrast stretching, histogram modification
or contrast enhancement is the process in which the CT image grayscale component of an
image is manipulated via the CT numbers; doing this will change the appearance of the
picture to highlight particular structures. The brightness of the image is adjusted via
the window level. The contrast is adjusted via the window width.</p>
<p>source: <a class="reference external" href="https://radiopaedia.org/articles/windowing-ct">https://radiopaedia.org/articles/windowing-ct</a></p>
<dl class="simple">
<dt>Args:</dt><dd><p>image (np.ndarray): ct image without rt struct structures in gray scale
window_center (int, optional): window center represents the gray value at the center of the window.
Defaults to WINDOW_CENTER.
window_width (int, optional): window width defines the range of gray values that will be displayed.
Defaults to WINDOW_WIDTH.</p>
</dd>
<dt>Returns:</dt><dd><p>np.ndarray: converted image to a given contrast in RGB</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_number_of_slices_data_dicom">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_number_of_slices_data_dicom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dicom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileDataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#utils.get_number_of_slices_data_dicom" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns number of slices that given dataset has</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data_dicom (dicom.FileDataset): ct images from the dataset given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>int: number of slices in the dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_patient_position">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_patient_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dicom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileDataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#utils.get_patient_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns patient center position used in the dataset</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data_dicom (dicom.FileDataset): ct images from the dataset given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: patient center position (X,Y,Z)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_pixel_spacing">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_pixel_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_dicom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileDataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#utils.get_pixel_spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns pixel spacing used in the dataset</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data_dicom (dicom.FileDataset): ct images from the dataset given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: pixel spacing for X,Y,Z axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.load_ct_and_rtstruct_images">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">load_ct_and_rtstruct_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder_path_ct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_path_rt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_center</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#utils.load_ct_and_rtstruct_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which load images and rt struct structures</p>
<dl class="simple">
<dt>Args:</dt><dd><p>folder_path_ct (str): path to the ct images directory, given by the user
folder_path_rt (str): path to the rt struct structure file, given by the user
window_center (int): window center represents the gray value at the center of the window.
window_width (int): window width defines the range of gray values that will be displayed.</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: of converted ct images with rt struct structures and color of rt struct structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.load_images_and_rtstruct_structures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">load_images_and_rtstruct_structures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rt_struct_elements</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dicom</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileDataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patient_center_position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_spacing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#utils.load_images_and_rtstruct_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which load images and rt struct structures</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rt_struct_elements (dict): dictionary of rt struct elements sorted by Z axis
data_dicom (dicom.FileDataset): ct images from the dataset given by the user
patient_center_position (tuple): patient center position (X,Y,Z)
x_spacing (float): pixel spacing for X axis
y_spacing (float): pixel spacing for Y axis</p>
</dd>
<dt>Returns:</dt><dd><p>list: list of converted ct images with rt struct structures</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.load_rtstruct">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">load_rtstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">FileDataset</span></span></span><a class="headerlink" href="#utils.load_rtstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that loads rt struct structure from path given by the user</p>
<dl class="simple">
<dt>Args:</dt><dd><p>file_path (str): path to the file given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>dicom.FileDataset: loaded rt struct structures from the given file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.parse_rtstruct">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">parse_rtstruct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rtstruct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileDataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#utils.parse_rtstruct" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which parse rt structures and sorts them by Z axis</p>
<dl class="simple">
<dt>Args:</dt><dd><p>rtstruct (dicom.FileDataset): rt struct structures dataset given by the user</p>
</dd>
<dt>Returns:</dt><dd><p>tuple: tuple of rt struct structures and their color</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Rt Struct Ct</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#utils.add_rt_struct_to_image"><code class="docutils literal notranslate"><span class="pre">add_rt_struct_to_image()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.check_if_file_is_rt_struct_file"><code class="docutils literal notranslate"><span class="pre">check_if_file_is_rt_struct_file()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.contrast_enhancement"><code class="docutils literal notranslate"><span class="pre">contrast_enhancement()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.get_number_of_slices_data_dicom"><code class="docutils literal notranslate"><span class="pre">get_number_of_slices_data_dicom()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.get_patient_position"><code class="docutils literal notranslate"><span class="pre">get_patient_position()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.get_pixel_spacing"><code class="docutils literal notranslate"><span class="pre">get_pixel_spacing()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.load_ct_and_rtstruct_images"><code class="docutils literal notranslate"><span class="pre">load_ct_and_rtstruct_images()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.load_images_and_rtstruct_structures"><code class="docutils literal notranslate"><span class="pre">load_images_and_rtstruct_structures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.load_rtstruct"><code class="docutils literal notranslate"><span class="pre">load_rtstruct()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.parse_rtstruct"><code class="docutils literal notranslate"><span class="pre">parse_rtstruct()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="app.html">app</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">tests</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Rt Struct Ct’s documentation!</a></li>
      <li>Next: <a href="app.html" title="next chapter">app</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Piszczek.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>